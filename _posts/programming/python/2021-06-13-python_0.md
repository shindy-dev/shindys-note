---
title: "OS別 Python 開発環境メモ"
upload_date: 2021-06-13 14:13:29 +0900
date: 2021-06-13 14:13:29 +0900
category: "programming"
tags: ['python']
permalink: "/articles/programming/python/2021/06/13/python_0"
---

# 使用 OS
筆者が Python 開発で使用する OS は以下の通り。（メジャーな OS を一通り）
- Windows10
- Mac OS
- Linux 系 (Ubuntu 等)
- Raspberry Pi


# 環境
- [Visual Studio Code](#visual-studio-code) ... テキストエディタ
- [Git](#gitwindowsのみ) ... シェルスクリプトを使用するため、windows のみ要インストール
- [pyenv](#pyenv) ... Python のバージョン管理
- [Python3.x.x](#python3) ... pyenv からインストール
- venv ... Python のパッケージ管理（Python3 系で標準で使用可能）

# セットアップ
Windowsだけ他の OS とセットアップ方法が異なる。

## Visual Studio Code
各自 OS 以下のリンクから取得しインストール。  
（特段躓くポイントもないはず。。。）  
[https://azure.microsoft.com/ja-jp/products/visual-studio-code/](https://azure.microsoft.com/ja-jp/products/visual-studio-code/)  

## Git(Windowsのみ)
- 仮想環境作成を自動化するシェルスクリプトを実行するため、以下リンクから Git をインストール  
[http://git-scm.com/download/win](http://git-scm.com/download/win)  
セットアップ時のオプションは全て標準設定でインストールした。

- Visual Studio Code のコンソールにデフォルトでbashが開かれるように設定を追加または変更
```
    ... 
    "terminal.integrated.defaultProfile.windows": "bash",
    "terminal.integrated.profiles.windows": {
        ... 以下を追記
        "bash": {
            "path": [
                "C:\\Program Files\\Git\\bin\\bash.exe",
                "D:\\Program Files\\Git\\bin\\bash.exe",
            ],
            "args": [],
        },
        ...
    },
    ...
```


## pyenv  
Windows10 のみ pyenv をそのまま使えないため pyenv を Windows 用に移植した pyenv-win を使用する。使用感はほぼ変わらない。

### Windows10
- 以下から zip ファイルをダウンロード  
[https://github.com/pyenv-win/pyenv-win/releases](https://github.com/pyenv-win/pyenv-win/releases)  

- 展開し、%USERPROFILE%\\.pyenv\pyenv-win となるように格納  

- コントロールパネル＞システム＞システムの詳細設定＞環境変数を変更  
    - 新規登録  
    変数名：PYENV  
    変数値：%USERPROFILE%\.pyenv\pyenv-win  

    - Pathに追加  
    %PYENV%\shims  
    %PYENV%\bin  

### その他 OS
- Clone  
    ```
    git clone https://github.com/pyenv/pyenv.git ~/.pyenv
    ```

- .bash_profile / .zsh_profile  にパスを通す
    ```
    export PYENV_ROOT="$HOME/.pyenv"
    export PATH="$PYENV_ROOT/bin:$PATH"
    eval "$(pyenv init -)"
    ```

## Python3
```
$ pyenv update
$ pyenv install 3.x.x  # <- ex. 3.9.5
$ pyenv global 3.x.x
```
その他コマンドについては過去記事を参照  
[pyenvについてメモ](/articles/programming/python/2021/06/03/python_0)


## venv  
前述したとおり venv は Python3 の標準モジュールのためインストール作業は不要である。
```
$ python -m venv venv
$ . venv/bin/activate
$ python -m pip install pylint, ...
```
という風に毎回環境作成、アクティブ化、ライブラリのインストールという作業が必要になるため、何度でも楽に環境が作成できるようにプロジェクト毎にシェルスクリプトを作成することにした。  
サンプルは以下のリンク  
[https://github.com/shindy-dev/synthon/blob/main/setup.sh](https://github.com/shindy-dev/synthon/blob/main/setup.sh)
